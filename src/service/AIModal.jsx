import { GoogleGenerativeAI } from "@google/generative-ai";


const apiKey =import.meta.env.VITE_GEMINI_API;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-pro",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


 export const chatSession = model.startChat({
    generationConfig,
 // safetySettings: Adjust safety settings
 // See https://ai.google.dev/gemini-api/docs/safety-settings
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget,Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with\nbest time to visit in JSON format."},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"trip_details\": {\n    \"destination\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotels\": [\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60-$150\", \n      \"hotelImageUrl\": \"https://example.com/excalibur.jpg\", \n      \"geoCoordinates\": {\n        \"lat\": 36.0996,\n        \"lon\": -115.175\n      },\n      \"rating\": 3.5, \n      \"description\": \"Affordable themed hotel with a medieval vibe, multiple pools, and entertainment options.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50-$120\", \n      \"hotelImageUrl\": \"https://example.com/circuscircus.jpg\",\n      \"geoCoordinates\": {\n        \"lat\": 36.1215,\n        \"lon\": -115.17\n      },\n      \"rating\": 3,\n      \"description\": \"Budget-friendly option with a circus theme, an indoor amusement park, and free circus acts.\"\n    },\n    {\n      \"hotelName\": \"Linq Hotel + Experience\",\n      \"hotelAddress\": \"3545 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$70-$180\",\n      \"hotelImageUrl\": \"https://example.com/thelinq.jpg\", \n      \"geoCoordinates\": {\n        \"lat\": 36.117,\n        \"lon\": -115.172\n      },\n      \"rating\": 4,\n      \"description\": \"Trendy hotel with a central Strip location, known for its High Roller observation wheel and lively atmosphere.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"morning\": {\n        \"time\": \"9:00 AM - 12:00 PM\",\n        \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n        \"placeDetails\": \"Free to explore the stunning seasonal floral displays and art installations.\",\n        \"placeImageUrl\": \"https://example.com/bellagiogardens.jpg\",\n        \"geoCoordinates\": {\n          \"lat\": 36.1127,\n          \"lon\": -115.176\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5\n      },\n      \"afternoon\": {\n        \"time\": \"12:00 PM - 3:00 PM\",\n        \"placeName\": \"Lunch at In-N-Out Burger\",\n        \"placeDetails\": \"Enjoy a classic California burger chain for an affordable and tasty lunch.\",\n        \"placeImageUrl\": \"https://example.com/innout.jpg\",\n        \"geoCoordinates\": {\n          \"lat\": 36.1046,\n          \"lon\": -115.175\n        },\n        \"ticketPricing\": \"$10-$15 per person\",\n        \"rating\": 4\n      },\n      \"evening\": {\n        \"time\": \"6:00 PM - 9:00 PM\",\n        \"placeName\": \"Fremont Street Experience\",\n        \"placeDetails\": \"Experience the vibrant lights, street performers, and live music of downtown Las Vegas.\",\n        \"placeImageUrl\": \"https://example.com/fremontstreet.jpg\",\n        \"geoCoordinates\": {\n          \"lat\": 36.1689,\n          \"lon\": -115.14\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4\n      }\n    },\n    \"day2\": {\n      \"morning\": {\n        \"time\": \"10:00 AM - 1:00 PM\",\n        \"placeName\": \"Hoover Dam (Optional Day Trip)\",\n        \"placeDetails\": \"Take a half-day trip to see the iconic Hoover Dam, a marvel of engineering.\",\n        \"placeImageUrl\": \"https://example.com/hooverdam.jpg\",\n        \"geoCoordinates\": {\n          \"lat\": 36.016,\n          \"lon\": -114.737\n        },\n        \"ticketPricing\": \"$30-$50 per person for tours\",\n        \"rating\": 4.5\n      },\n      \"afternoon\": {\n        \"time\": \"2:00 PM - 5:00 PM\",\n        \"placeName\": \"Pool Time at Your Hotel\",\n        \"placeDetails\": \"Relax and soak up the sun at your hotel's pool.\",\n        \"placeImageUrl\": \"\", \n        \"geoCoordinates\": \"\", \n        \"ticketPricing\": \"Included with hotel stay\",\n        \"rating\": \"Varies by hotel\"\n      },\n      \"evening\": {\n        \"time\": \"7:00 PM - 10:00 PM\",\n        \"placeName\": \"Free Show on the Strip\",\n        \"placeDetails\": \"Catch a free show like the Bellagio Fountains, the Volcano at the Mirage, or the Fall of Atlantis at Caesars Palace.\",\n        \"placeImageUrl\": \"https://example.com/bellagiofountains.jpg\",\n        \"geoCoordinates\": {\n          \"lat\": 36.1127,\n          \"lon\": -115.176\n        },\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4\n      }\n    },\n    \"day3\": {\n      \"morning\": {\n        \"time\": \"10:00 AM - 1:00 PM\",\n        \"placeName\": \"The LINQ Promenade\",\n        \"placeDetails\": \"Stroll, shop, and dine at this open-air promenade with unique stores and restaurants.\",\n        \"placeImageUrl\": \"https://example.com/linqpromenade.jpg\", \n        \"geoCoordinates\": {\n          \"lat\": 36.117,\n          \"lon\": -115.172\n        },\n        \"ticketPricing\": \"Free to enter, costs vary for shopping and dining\",\n        \"rating\": 4\n      },\n      \"afternoon\": {\n        \"time\": \"1:00 PM - 4:00 PM\",\n        \"placeName\": \"High Roller Observation Wheel\",\n        \"placeDetails\": \"Take a ride on the High Roller for stunning views of the Strip and surrounding area.\",\n        \"placeImageUrl\": \"https://example.com/highroller.jpg\", \n        \"geoCoordinates\": {\n          \"lat\": 36.117,\n          \"lon\": -115.173\n        },\n        \"ticketPricing\": \"$25-$45 per person\",\n        \"rating\": 4.5\n      },\n      \"evening\": {\n        \"time\": \"7:00 PM - 10:00 PM\",\n        \"placeName\": \"Dinner and a Show\",\n        \"placeDetails\": \"Consider affordable dinner and show options like Tournament of Kings at Excalibur or a variety show at a smaller casino.\",\n        \"placeImageUrl\": \"\",\n        \"geoCoordinates\": \"\", \n        \"ticketPricing\": \"Varies, check for deals and discounts\",\n        \"rating\": \"Varies by show\"\n      }\n    }\n  }\n}\n```\n\n**Explanation of the JSON Structure:**\n\n- **trip_details:** Basic information about the trip.\n- **hotels:** An array of hotel options. Each hotel has details like:\n    - hotelName, hotelAddress, price, hotelImageUrl, geoCoordinates, rating, description\n- **itinerary:**  A breakdown of each day with suggested activities.\n    - Each day has morning, afternoon, and evening slots.\n    - Each slot has: \n        - time, placeName, placeDetails, placeImageUrl, geoCoordinates, ticketPricing, rating\n\n**Key Points and Budget Considerations:**\n\n- **Hotel Prices:** The prices listed are estimates and can vary significantly depending on the time of year and demand. It's always recommended to check current prices online.\n- **Food:** The itinerary includes budget-friendly dining options like In-N-Out Burger. Las Vegas also has many affordable buffets and casual eateries.\n- **Free Activities:** Many of the suggested activities, like the Bellagio Fountains, Fremont Street Experience, and hotel pool time, are free or included with your hotel stay.\n- **Transportation:** Walking the Strip is a great way to explore. Consider using the Deuce bus (runs along the Strip) or ride-sharing services for longer distances.\n- **Shows:** Look for discounted show tickets at Tix4Tonight booths or online.\n- **Flexibility:** This is just a suggested itinerary. Feel free to customize it based on your interests and time constraints.\n\n**Remember to have fun and enjoy your trip to Las Vegas!** \n"},
        ],
      },
    ],
  });

 